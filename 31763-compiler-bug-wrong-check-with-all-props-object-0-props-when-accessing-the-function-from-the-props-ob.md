# [Compiler Bug]: wrong check with all `props` object (`$[0] !== props`) when accessing the function from the `props` object and calls it, e.g. `props.reportBug()`

> Issue #31763 - Created on 12/14/2024

> Original URL: https://github.com/facebook/react/issues/31763

## Description

### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### [Link to repro](https://playground.react.dev/#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-kNE2OCg-ZmlSG6TlXsRQZ-1i7sK4eknQ3hmaM0AijGlUTBYEUpSiFsWhvx1PYTDLmGZiGNVkU5OGF5VYBjmqFRaRQ8X5wIPoGeRU55kSULHMBk46mauIYQMAxCVLJQrjpKlL8pgKvWnzHBEVuIsiTRha6BAk0smCsSqMcTNLaQOlSsG7o4SxQSqG8udcs1FAwhQAC5A9URv9axWKpEyYKtTemzNLZOZ6VzWmUiekcRWFsHjDmyFuwnR2AQC6+w4Q6GrQWumDDS1JXLvSwg7S42CondudKOhi2EGXcledFbMo2NreGg1kaZxNu1a2lNaak1qDgoRJSSpXEES3ZuSd51sIHsSmG+CX5K3zv9YemAkZ4o3wNPZem9701PpTC+yM0ZYwcn8d+XiQaaA1kIJcaws6x3HS-duH9l1IMqXneXQDm0igWXwpu0juMrB6IQByfg9km7M0Pau38-F-qaCeAOqQMA4wsXHcR8gu793kZXSlQa6UOQEcrgwQk-GL1DkbfhZtGl5N0ewZhX9-DCjsdA4led4HNFQdw33Y1pg4byIXQGG86wx6nQGMMG8ylrC6wIAAMgIC5oVp1WowACGAEOht+TTOFf7TU0dvVpUYE5Yu8sI5GSjjHRL8cIqRWThQViTkACEKWWRQsYLl-MUMJxKEpRS18dzZZOVLFDHwar9KxfFJluOalP44G-oQH9aBB32QUmVmAalounUQ2Gzt6kvUbx8G4ggwdTBotUxQY2uNfixmSLRawEpcRx3YwwHQcdySUm-B4b0KJztcijk5SrUNeKkFttYC8GxBhLbgHhrFaXdAZYS3HewbgVsp2SYQDWcM4RPoDFrJOKJqholGS7RGTpbUMJ9rNZam2IeqAaR2aHzQXqeQ7HD67ahEc3CckIARCBQcbfBwQDWULZaE7wA02WZPSSU+R5ed845gxeYIJjrzoPTB-RdVjM0kYyVarsrGOUXUxQtlxDo7oXVP0BWQtWajOIWxDgAhhZmOF0SkSgFgBTtH0WCkZ9LsUMBETw4RAgIQTkAAMYuCwY3+tUYJ9AlC8gAF5plwfQWsjRqwJV7ib2k1ubvQj7E5WaXofaPdhjQAMTXnxQyOO6ZLEUWRw1y4GYMJXmaem9EL2R83GKF4YReZDLvUOZWa57qrEuqvlhaIr6mek7dksgBOaJsZbr3WQVNCTBnLrViVqQHwfGqsvhofWRL+mw+NU3uLE1DOZcSBdyybaVMqgAGpj-LTcHCDWZf3Razbytb3LqADSrGS4ehxPRwifegZVCIYdxgv8xoTUcdf9Tt-9HdycEBEQnIdtuhLgDtQC5Z6dSQoQYQ8Ak9ctPRU9msCsTsztORcAKtmsKBcCwD99D9dpCBvQSCYBbtcAWRGg8AZFBgsdms1sKAQd9YHwH9OFRhsMJ8tcp09g2khwn165qwAg0BSFyABUUtrdgC09NcNF3MZ1sDxMtdlChhARlVXBs9+ClChDqhawwBqgoAvEhQa5ZlgcncEBAtt1dhhgHtVCsADQmCEAAARBAeiToaWXoC8ErWMZwxgy4QYDwrw77U6JbPQtzIQrQrqPwgvKInYDQ2InQqrOGDwucd8XgHYeIsyOZdIqscw7I3oYHO-DvF8BpOJOGOQxnKIpOPZGBFqNca6CkMAe2a6NZNMYULoa6OgaUMAdkOkYhCEboUhFozw6sa6VNGnawFJHAaqUYsESbSdUiMydXNAYPaSMSbovAa6XrQoRCXiEMVjSuQiOKCYSDXuFEEoPDXIAEBIZrZPTAvLRfcozvAgDBfaNQrodmDaWyUiI45mUyH1aiEeErALejWqbPF1XBIuJhLtQjVzb9XcWwOEOKNMJWG3KoWMbSfIINcqDaIgzhRIkjBAC6U5Ik6GIkgrXPYifPPIuvYiYvUvAvcvCvW8FSQg6EqGHEOxETZaKrNbIk4A-vRCb0U-UUh3Mg7-PATgxfYA3QJGWwiTNwvQD0b0a-YiOUqrCiP3NRGZSdKFZUrXVUtEZPBQqrArRUp0Y0jRU0nQLkxfV4qIE+QiOMZhQiOo1idEmsawRWMSYhUhOJXdSknk4Tcga0mw7406e0gUxfIU7khnE2QgdJKieAo7JOVMhAdMxgRHfnAIJyagsAREA-GUpAp0grYrf+NMv-OWFkVQGRNKbJXJR0p0qGJ9DndWGAJyHwW0qbGnA4rtasIsmsf40gVtIOOMp03k6QKcqGBMtsrE3GMbHgPgbFTFbgAxTM6sjkHMusos0MigavX4IsvwncooPcuZEctgxcggC8YAPWMgUM4AqFJOMbSQPk2QBQLwFwLPW8mvOZMbP8-8l4kCwQ4YC8Ek+wlQxMtssyRgHwl7bQyC6MpImI7QpbRci-Q8qGFcgxTCxfSKAiigO-Cs-CIrRwH8tQanTySKVsxcjszyRrHwHFcSFsTDGJETeyJxFwCNKClkScnCmc-k0Mhctsp9XqfHAcJyD7OnOc9PdnJirspyUXbUxfNUAbFEygmsOKHQWKKFNSy08inC1MfGRJPhQrdknwCAXIAAKz7B8HDEDCEq0q9HZKFxLxwsKx7N3UctjHMtsGilgvorbIaLfDEj0hwgeQ2SgvAv2GECGxwjhBmLWU7DuLgA2W3EN1gofBdLaJNmuisDMKyNmTiuEO-G8RokQEj20U5UxI4qGGwysAqn5D+RwpfM8hhTfI3I-OkDkB4uopwooBKyAqGqhgtJAunSGBQqI3UIMKMJMOKosJ2H4DGqq3guCFOhSJmqRN6GSIwrWoxGIrbLwr4GOqqyIpwvLLbMrMoucGoqhRhTotAtvJXBq2OMpUa0OpYo3LYoIk0s-O4qorISHH4sWzGuuqdJvMXMHT4W9B0F0v0s6vkoxCfNgokuJw4A7Gp1p1IsXwK1htsFkRZF3T838x8E+U+Thj8rOi0pJrVJCunPDICv3F3RRrEqdIaPNSKDVDmxvXik2iQhgS7N+L0jG0ST6xSQBL4hgyvHHCHEHUloQHprRDsg4q8LUCqGfMZ0VuSVRHzK9BMruTMsJsoKspwnzMcur1NrvPyQsC0qclNshvbJoE7OMEdqrCVrzI7Gdo5tws8j7J2HtNmlDJZFrWgNQt6HtJTxes5u4NvPLDcN6HnyxP7DzVHT4nclisY0IGIXZVY3IBN3wCHljCGvLD0i6lrHVzTFBshMFulsUKm13U3zbIlhyt+KcklIIEsu9ElJLPIOphL27qgvtMZrbOEuURwr9qdI2DEgmqdOAIpSc29HpVKA7iqEzxHoZpRrSIzzzyXvdGds5pdNXJ2EuEFGIR23HFjGqlBBTH2D2L0B0VUDnyDXN2JCHkasIBkh3DxD2OUCwAOJgDGoKxK16DNXDzp1jtvLAdIAgcahUoQDijtR3vnKntLg4GckJhgDHqdMYtPGUoNQKUa2wbotQehvjKCsXIPyfroBchFuePnqhjeNboICTtftTpxL7QzpskbuRPJNzrpQLsvH-gylSXbpfArqUWrpbqdLbv-IKy7p7pt13ylKEFLKPzwFwcXwnvIbRv-PwfoEayIb0BIa7LIZwoxqkoLJmLUCPoxGusfPW3vw4RfDfA-C-D4YngNGUGlm+xUiGDj0hATxmieKwN0OjJYMEAvyZyiNvzlPKILnfAQm-Fit0FDDwzEgFWDX5CJUCcANMHj1QPQJjoUOWKyuSa-EDt6BcikLwAvGf0dAgH-iKH0DqbHoKwQDqYPw2GsEabJpgW6bybcu9B8HECDmgfy0id9tYP0ahgSijAgDihZFO1abqamFUFpGAR7LyaVjijnzhF12qdIGuonucgwPCadIWb2ZZBxGeVITaeBg2ZwkqCSx8F2aWYOfvo8cYGOccfPzKPjsTsYEkLkyuEQuFuMGJkEz5SMhqOTNCnk0QtlmrEtmz0K2ZiHpKxESaghHESsEkR6n6nkyJOr21iJPmiRdpEzyLwSaBbtBOEWmD1TvFERa0gQHhdxl7STjKaUrmFUNmthGwMxu5QCCWyh2a3vl6BReBzlLOeAooCdg6wZBZC60Ql7U9GAF7TcC9iJOABK1TiKF2goadiiGVf3DVZgF1cEFBwTNDmyGAIRzdkdiTlBSjilAgASCcnNc93DmOZCzCx5fF3pZuPIHLnrSrgQz0jJKgEyZDG0P12KPIEvUSPHA9FViN0YFoQVW4Rd14WHVsY5f+kWVYyIFWVjA2Vgm2Xlj2QkJXFMIP2UHeVeEiGbdCEiGulsoGNVBsqeT0tICiDAHgCiGaSNAqAGIYOOY0LDrAEDAAFVDRWkI0akH5Yqprob5GuxAjXDQicRwidgHNPp4glFnVOFQ2w0I3CIEMPRtoorvANqIXSBtCI09I12hDbNJpI7oLNDtCHMLaOxT2Xxz3w2QpI3sNo2sI42n2upE3+zQbUK02F1M2fFGAc2eE+FC2Fklky21lK2tkdla23IG3P4223hohwUO2u2oge3cg+3YxB3h3R3ds3lJ2v3p2+B53F3jRl2RlV2v2yqN2TUCjMjlrehD3FEfp3B9Zym601Ap2hDHDP3t3gj3DPC93EL7AoL9qup7BhOiiIj3ALx-XQsooXjgCpqUik4tP0KNch7ey2OhDLRBANKyqk5WPBXoiHCFCAiXCVPd3vCDPs89OSqdhSjloaSHPhgUiQqpqk4prbnPDlREAezYv5PhhFt9JYuAASYACz7QtwBSJAsS8z+ak2RakTpN1FsqhLrAJLhAHsoqir06T2ZZeNjXNwDLnwQS5xs57zyL-YbasqlIyI-r6asqkbjztC4YQwsr0wprlai8Kamb4wub-Tla2V9wNGmT8xNQPc726Sos-bgIP9uWgIVslz08v4ToXAIoJ2f9gcLKBIXifZn2QXMMSvO8UwFzhs+TZsvJb0WSuU2el6nA2s4w07sekc70P7jNHcwssHo7xx1bDBnRbz4lq4P7t82nc-UwXrkAo7YtdHpsnJPJJxtbEANwIAA)

### Repro steps

I found an issue with react-compiler, which makes fails this test https://github.com/graphql/graphiql/blob/8092f100ae62710bece1666589eda0455dc04009/packages/graphiql/src/GraphiQL.spec.tsx#L76-L84

As you can see function `introspect` contains reference to `props.schema`, `props.fetcher` and `props.onSchemaChange` but the react-compiler simplified it to `$[13] !== props` which is wrong!

For now, I fixed this with this commit: https://github.com/graphql/graphiql/pull/3821/commits/3ecae05a0472494fa05f45632edb63de89a2a4fe by avoid having `props.something...` inside body of `introspect` function

I hope this will be prioritized and fixed soon, friendly ping [gsathya](https://github.com/gsathya)

### How often does this bug happen?

Every time

### What version of React are you using?

from playground

### What version of React Compiler are you using?

from playground
